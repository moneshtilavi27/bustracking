let express,multer,APP_PORT,imageUpload,errorHandler,routes;_527‍.w("express",[["default",["express"],function(v){express=v}]]);_527‍.w("multer",[["default",["multer"],function(v){multer=v}]]);_527‍.w("./config/index.js",[["APP_PORT",["APP_PORT"],function(v){APP_PORT=v}]]);_527‍.w("./helper/imageUpload.js",[["default",["imageUpload"],function(v){imageUpload=v}]]);_527‍.w("./middlewares/errorHandler.js",[["default",["errorHandler"],function(v){errorHandler=v}]]);_527‍.w("./routes/index.js",[["default",["routes"],function(v){routes=v}]]);






// const forms = multer();


const app = express();



app.use(express.json());
// app.use(express.urlencoded({extended:true}));
// app.use(forms.array());
// app.use(imageUpload);
app.all('*', function (req, res, next) {
    res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type,Authorization ,Accept');
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Credentials', true);
    // res.setHeader('Access-Control-Expose-Headers', 'Authorization');
    res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');
    res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type, Authorization');
    next();
});

app.use('/api/', routes);
app.use('/api/images', express.static('uploads'));

app.use(errorHandler);
app.listen(APP_PORT, () => console.log(`Listening app Post ${APP_PORT}`));